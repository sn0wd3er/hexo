---
title: 스칼라 함수
date: 2020-11-30 16:53:06
tags:
- Scala 함수
category:
- Database
---

## 스칼라 함수

### 시스템

```
SELECT @@LANGID;			--언어 아이디
SELECT @@SERVERNAME;        		--서버 이름
SELECT @@SERVICENAME;			--서비스 이름
SELECT @@VERSION			--버전
```

### 날짜

```
SELECT N'날짜 함수'
SELECT SYSDATETIME(), GETDATE()				--날짜
SELECT DATEADD(day,100,'2020/10/10');			--'2020/10/10'이후 날짜
SELECT DATEDIFF(week,'2019/10/10','2020/5/5')		--개월 차이
SELECT DATENAME(weekday,'2022/4/4')			--해당 날짜의 요일
SELECT MONTH('2020/10/19')				--월만 뽑을 수 있음
SELECT DATEFROMPARTS('2020','10','19')			--날짜를 이어준다
```

### 수치 함수

```
SELECT N'수치함수'
SELECT ABS(-100)			--절대값
SELECT ROUND(1234.5678,2);		--소수점 자리까지 반올림
SELECT RAND()				--랜덤값
SELECT SQRT(10);			--제곱근
SELECT POWER(3,2);			--3의 2승
```

### 조건 함수

```
SELECT N'조건함수'
SELECT CHOOSE(2,'SQL','SERVER','2012')		-- 해당 index의 값 추출
SELECT IIF(100>200,'True','False')		-- IF 문
```

### 문자열 함수

```
SELECT N'문자열 함수'
SELECT ASCII('A'),CHAR(65)			--아스키
SELECT CONCAT('SQL','SERVER','STUDY')		--문자열 붙여줌
SELECT CHARINDEX('SQL','Hello SQL')		--문자열 찾기,찾은 문자열의 첫 번째 인덱스를 반환
SELECT LEFT('SQL SERVER',3);			--왼쪽부터 인덱스 값의 문자열
SELECT RIGHT('SQL SERVER',2);			--오른쪽부터 인덱스 값의 문자열
SELECT SUBSTRING('데이터베이스 열공중',3,2)	--3번째 문자부터 2의길이만큼 반환
SELECT LEN('길이')				--문자열 길이
SELECT LOWER('ABCD'),UPPER('abcd')          	--소문자,대문자
SELECT LTRIM('    LEFT'),RTRIM('RIGHT     ')	--공백 제거 LEFT 왼쪽 공백 RIGHT 오른쪽 공백
SELECT REPLACE('SQL SERVER','SERVER',N'서버')	--문자열 변경
SELECT REVERSE('거꾸로')				--문자열을 리버스해줌
```

### 순위 함수

- ROW_NUMBER() : 순위를 지정, 같은 값이어도 다른 값으로 설정
- DENSE_RANK() : 동일한 순위를 동일한 값으로 설정
- RANK() : 동일한 순위를 동일한 값으로 설정하지만 다음 값이 동일 한 수 다음 번호
로 설정(예: 1224)


```
[순위 함수이름]() OVER( [PARTITION BY] [LIST] ORDER BY [LIST]
```

- PARTITION BY: 순위 그룹을 결정



