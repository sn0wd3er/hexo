---
title: Group By, 집계함, Having
date: 2020-11-30 14:47:09
tags:
- Database Query
category:
- Database
---

## Group by

결과를 그룹으로 묶어준다.

### 집계함수

|함수명|설명|
|:---:|:---|
|AVG()|평균|
|MIN()|최소값|
|MAX()|최대값|
|SUM()|합계|
|COUNT()|행의 개수|
|COUNT_BIG()|개수|
|STDEV()|표준편차|

### 사용 예시 

```
SELECT Column1 , SUM(Column2) FROM Table GROUP BY Column2
```

### Having 

Group by를 쓸 떄 Where조건절 대신 Having이라는 조건절을 쓴다.

```
SELECT userID,SUM(price*amount) FROM buyTBL GROUP BY userID HAVING SUM(price * amount) > 1000;
```

## ROLLUP()/CUBE()/GROUPING_ID() 함수


### ROLLUP()

총합 또는 중간합계가 필요시에 사용

![RollUP](/img/rollup.PNG)

```
SELECT prodName,SUM(amount) FROM cubeTBL GROUP BY ROLLUP(prodName)
```

### GROUPING_ID()

데이터의 합계인지를 파악할수 있게 해준다.

### CUBE()

다차원 정보의 데이터를 요약

![CUBE](/img/cube.PNG)

```
SELECT prodName,color,SUM(amount) FROM cubeTBL
GROUP BY CUBE(color,prodName)
```







