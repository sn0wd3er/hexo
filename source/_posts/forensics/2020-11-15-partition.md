---
title: Partition
date: 2020-11-15 12:59:02
tags:
- Partition
category:
- Forensics
---

## HDD 유형

- CHS : Cylinder/Header/Sector > 2TB
- LBA : Logical Black Address  > 2TB+ , 요즘 방식

## 파티션

![Partition](/img/partition.PNG)
하드드라이브를 파티션 분할하여 별도로 프로그램을 저장 , 바이러스에 감염되더라도 분할된 파티션만 제거할 수 있다. 멀티 부팅도 가능하게 해준다.

### Sector

하드디스크에서 정보를 저장하는 기본단위이다. 기본적으로 512BYTE를 가진며 물리적인 단위이다.

### Cluster

논리적인 단위로 운영체제가 정한 정보를 저장하는 기본단위이다. 운영체제가 3개의 섹터를 1개의 클러스터로 정하면 운영체제가 관리하는 단위는 3개의 섹터를 한번에 관리를 한다.


### MBR

![MBR](/img/mbr.PNG)

파티션의 제일 앞쪽에 위치해 있으며 마스터 부트 레코드로 4개의 주 파티션의 크기 정보를 가지고 있다.
파티션 테이블은 16BYTE로 4개를 가지고 있다. 파티션 테이블은 boot flag(1), 시작 H-C-S(3), 파일 시스템 종류(1), 끝 H-C-S(3), 시작 sector(4), 크기(4)를 구성하고 있다.
파티션 테이블의 시작 H-C-S, 끝 H-C-S는 CHS일 때 사용하며 시작 sector, 크기는 LBA에 사용된다.


### VBR

파티션상에 boot를 위한 정보를 가지고 있고 파티션 내부 구조 정보가 기록되어 있다.

### 확장 마스터 부트 레코드

주 파티션을 4개로 분할하여 만든 확장 파티션의 정보를 가지고 있다.

### 주 파티션과 확장 파티션

주 파티션은 부팅을 할 수 있지만 확장 파티션은 부팅을 하지 못한다. 하나의 주 파티션에 4개를 다시 분할한 것이 확장 파티션이다.

### Slack 공간

정보를 몰래 은닉할 수 있는할 수 있는 공간이다.


## 구조 예시및 파일 시스템

- MBR
- Partion
  - FAT : | BR(Boot Record) | FAT | Data
  - NTFS : | VBR | MFT | Data


### MetaData

데이터의 기본적인 정보를 가지고 있으며 데이터를 빠르게 탐색할 수 있다.

### FAT

FAT는 기본적인 파일 시스템으로 Windows에서 사용하며 NTFS라는 파일 시스템도 사용한다.
Windows 9x/DOS에서 사용되었던 파일 시스템이다. 그 이상 버전에서도 사용가능하지만 NTFS를 사용한다.

|FAT|클러스터 수|용량|
|:---:|:---|:---:|
|FAT12|2^12|16MB|
|FAT16|2^16|2GB|
|FAT32|2^28|2TB이지만 32GB로 제한|

FAT32는 7번째 섹터에 부트섹터(VBR)의 백업을 가지고 있다. 백업은 FAT32에만 존재한다. NTFS는 제일 마지막 섹터에 위치한다.




